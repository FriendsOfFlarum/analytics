(()=>{var t={n:a=>{var i=a&&a.__esModule?()=>a.default:()=>a;return t.d(i,{a:i}),i},d:(a,i)=>{for(var o in i)t.o(i,o)&&!t.o(a,o)&&Object.defineProperty(a,o,{enumerable:!0,get:i[o]})},o:(t,a)=>Object.prototype.hasOwnProperty.call(t,a),r:t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}},a={};(()=>{"use strict";t.r(a);const i=flarum.core.compat["admin/app"];var o=t.n(i);function n(t,a){return n=Object.setPrototypeOf||function(t,a){return t.__proto__=a,t},n(t,a)}function e(t,a){t.prototype=Object.create(a.prototype),t.prototype.constructor=t,n(t,a)}const s=flarum.core.compat["admin/components/ExtensionPage"];var r=t.n(s);const l=flarum.core.compat["common/components/Select"];var p=t.n(l);const c=flarum.core.compat["common/components/Switch"];var f=t.n(c);const u=flarum.core.compat["common/Component"];var d=function(t){function a(){return t.apply(this,arguments)||this}return e(a,t),a.prototype.view=function(){if(!(o().data.settings["fof-analytics.statusPiwik"]&&o().data.settings["fof-analytics.piwikUrl"]&&o().data.settings["fof-analytics.piwikSiteId"]&&o().data.settings["fof-analytics.piwikAuthToken"]))return null;var t=o().data.settings["fof-analytics.piwikUrl"];return-1===t.indexOf("http://")&&-1===t.indexOf("https://")&&-1===t.indexOf("//")&&(t="//"+t),"/"!==t[t.length-1]&&(t+="/"),this.url=t+"index.php",this.url+="?idSite="+o().data.settings["fof-analytics.piwikSiteId"],this.url+="&token_auth="+o().data.settings["fof-analytics.piwikAuthToken"],this.url+="&module=Widgetize&action=iframe&moduleToWidgetize=Dashboard&actionToWidgetize=index&period=month&date=today",[m("div",{className:"AnalyticsPage"},m("div",{className:"piwik"},m("label",null,o().translator.trans("fof-analytics.admin.matomo-widget.title")),m("iframe",{src:this.url,frameborder:"0"})))]},a}(t.n(u)()),g=function(t){function a(){return t.apply(this,arguments)||this}return e(a,t),a.prototype.content=function(){var t=this.setting("fof-analytics.piwikTrackAccounts");return t()||t("none"),[m(".container",[d.component(),m(".AnalyticsSettingsPage",[m("h3",o().translator.trans("fof-analytics.admin.popup.section.googleAnalytics")),m(".Form-group",[m("label",f().component({state:this.setting("fof-analytics.statusGoogle")()>0,onchange:this.setting("fof-analytics.statusGoogle")},o().translator.trans("fof-analytics.admin.popup.field.statusGoogle")))]),this.setting("fof-analytics.statusGoogle")()>0?[m(".Form-group",[m("label",o().translator.trans("fof-analytics.admin.popup.field.googleTrackingCode")),m("input.FormControl",{bidi:this.setting("fof-analytics.googleTrackingCode"),placeholder:"UA-XXXXXXXX-X / G-XXXXXXXXXX"})]),m(".Form-group",[m("label",o().translator.trans("fof-analytics.admin.popup.field.googleGTMCode")),m("input.FormControl",{bidi:this.setting("fof-analytics.googleGTMCode"),placeholder:"GTM-XXXXXXX"})]),m(".Form-group",[m("label",o().translator.trans("fof-analytics.admin.popup.field.optTrackingCode")),m("input.FormControl",{bidi:this.setting("fof-analytics.optTrackingCode"),placeholder:"GTM-XXXXXX"})])]:null,m("h3",o().translator.trans("fof-analytics.admin.popup.section.piwik")),m(".Form-group",[m("label",f().component({state:this.setting("fof-analytics.statusPiwik")()>0,onchange:this.setting("fof-analytics.statusPiwik")},o().translator.trans("fof-analytics.admin.popup.field.statusPiwik")))]),this.setting("fof-analytics.statusPiwik")()>0?[m(".Form-group",[m("label",o().translator.trans("fof-analytics.admin.popup.field.piwikUrl")),m("input.FormControl",{bidi:this.setting("fof-analytics.piwikUrl"),placeholder:"matomo.example.com"})]),m(".Form-group",[m("label",o().translator.trans("fof-analytics.admin.popup.field.piwikSiteId")),m("input.FormControl",{bidi:this.setting("fof-analytics.piwikSiteId")})]),m(".Form-group",[m("label",f().component({state:this.setting("fof-analytics.piwikTrackSubdomain")()>0,onchange:this.setting("fof-analytics.piwikTrackSubdomain")},o().translator.trans("fof-analytics.admin.popup.field.piwikTrackSubdomain")))]),m(".Form-group",[m("label",f().component({state:this.setting("fof-analytics.piwikPrependDomain")()>0,onchange:this.setting("fof-analytics.piwikPrependDomain")},o().translator.trans("fof-analytics.admin.popup.field.piwikPrependDomain")))]),m(".Form-group",[m("label",f().component({state:this.setting("fof-analytics.piwikHideAliasUrl")()>0,onchange:this.setting("fof-analytics.piwikHideAliasUrl")},o().translator.trans("fof-analytics.admin.popup.field.piwikHideAliasUrl")))]),this.setting("fof-analytics.piwikHideAliasUrl")()>0?[m(".Form-group",[m("label",o().translator.trans("fof-analytics.admin.popup.field.piwikAliasUrl")),m("input.FormControl",{bidi:this.setting("fof-analytics.piwikAliasUrl")})])]:null,m(".Form-group",[m("label",o().translator.trans("fof-analytics.admin.popup.field.piwikTrackAccounts")),p().component({options:{none:o().translator.trans("fof-analytics.admin.popup.trackAccounts.none"),username:o().translator.trans("fof-analytics.admin.popup.trackAccounts.username"),email:o().translator.trans("fof-analytics.admin.popup.trackAccounts.email")},value:t(),onchange:t})]),m(".Form-group",[m("label",o().translator.trans("fof-analytics.admin.popup.field.piwikAuthToken")),m("input.FormControl",{bidi:this.setting("fof-analytics.piwikAuthToken"),placeholder:"00112233445566778899aabbccddeeff"}),m(".helpText",o().translator.trans("fof-analytics.admin.popup.placeholder.piwikAuthToken"))])]:null,this.submitButton()])])]},a}(r());o().initializers.add("fof-analytics",(function(t){t.extensionData.for("fof-analytics").registerPage(g)}))})(),module.exports=a})();
//# sourceMappingURL=admin.js.map